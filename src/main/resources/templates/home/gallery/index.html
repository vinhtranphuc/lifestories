<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	th:with="hasHeaderBottomLine = true"
	xmlns:th="http://www.thymeleaf.org"
	layout:decorate="~{layouts/home-layout}">
<head th:include="~{fragments/home/head :: title('Gallery')}">
<style layout:fragment="styles">
</style>
<th:block layout:fragment="others">
</th:block>
</head>
<body>
	<th:block layout:fragment="content">
		<div
			class="container container-single-page else penci_is_nosidebar container-single-page-full-width">
			<article id="post-601"
				class="post-601 page type-page status-publish hentry">
				<div class="penci-page-header">
					<h1 class="entry-title">Gallery</h1>
				</div>
				<div class="post-entry blockquote-style-2">
					<div class="inner-post-entry entry-content">
						<div class="wrapper-penci-portfolio">
							<div class="penci-portfolio-filter">
								<ul>
									<li class="all active"><a data-term="*" data-filter="*">All</a></li>
									<li th:each="category:${categories}"><a th:data-filter="${'.'+category.category_id}" th:text="${category.category_name}"></a></li>
								</ul>
							</div>
							<!-- .portfolio-filter -->
							<div class="clearfix"></div>

							<div id="gallery-container" class="penci-portfolio penci-portfolio-wrap column-3">
								<div class="inner-portfolio-posts">
									<article th:each="image:${images}" th:class="${'portfolio-item '+image.category_id+' penci-web-design'}" data-terms="3d web-design">
										<div class="inner-item-portfolio">
											<div class="info-portfolio">
												<div class="penci-portfolio-thumbnail">
													<a th:href="${'/home/post/'+image.post_id}"> <span
														class="penci-image-placeholder"
														style="padding-bottom: 66.66666667%"><img
															width="585" height="390"
															th:src="${image.image_path}"
															class="attachment-penci-masonry-thumb size-penci-masonry-thumb wp-post-image penci-pfl-lazy"
															sizes="(max-width: 585px) 100vw, 585px" /></span>
													</a>
												</div>
												<div class="portfolio-desc">
													<a th:href="${'/home/post/'+image.post_id}">
														<h3 class="portfolio-title" th:text="${image.title}"></h3> <span
														class="portfolio-cat" th:text="${image.category_name}"></span>
													</a>
												</div>
											</div>
										</div>
									</article>
								</div>
							</div>
							<!-- <div class="penci-pagenavi-shortcode">
								<div class="penci-pagination penci-ajax-more penci-plf-loadmore penci-plf-more-click" page="1" pageSize="20" id="loadMoreBtn">
									<a class="penci-ajax-more-button"> <span class="ajax-more-text">Load
											More Posts</span> <span class="penci-pfl-ajaxdot"></span>
									</a>
								</div>
							</div> -->
						</div>
					</div>
				</div>

				<div class="tags-share-box hide-tags page-share has-line">
					<div class="post-share">
						<span class="share-title">Share</span>
						<div class="list-posts-share">
							<a target="_blank" rel="nofollow"
								href="https://www.facebook.com/sharer/sharer.php?u=http://soledad.pencidesign.com/soledad-dark-version/masonry-3-columns/"><i
								class="fa fa-facebook"></i><span class="dt-share">Facebook</span></a><a
								target="_blank" rel="nofollow"
								href="https://twitter.com/intent/tweet?text=Check%20out%20this%20article:%20Masonry%203%20Columns%20-%20http://soledad.pencidesign.com/soledad-dark-version/masonry-3-columns/"><i
								class="fa fa-twitter"></i><span class="dt-share">Twitter</span></a>
								<a data-pin-do="none" rel="nofollow noreferrer noopener"
								onclick="var e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','../../../assets.pinterest.com/js/pinmarklet2a3b.js?r='+Math.random()*99999999);document.body.appendChild(e);"><i
								class="fa fa-pinterest"></i><span class="dt-share">Pinterest</span></a>
						</div>
					</div>
				</div>
			</article>
			<!-- END CONTAINER -->
		</div>
	</th:block>
</body>
</html>
<script>
$(document).ready(function() {
});

function loadMoreImages(pageSize,page) {
	return $.ajax({
		type : "GET",
		url : "/home/api/gallery?pageSize="+pageSize+"&page="+page,
		dataType : "json",
		success : function(data) {
			if (data.status == 200) {
				var result = data.data;
				var list = result.list;
				if(!list || list.length <1) {
					$("#loadMoreBtn .ajax-more-text" ).text("Sorry, no more post !");
					$("#loadMoreBtn i").remove();
					$('#loadMoreBtn').removeClass('loading-posts');
					setTimeout(function(){
						$('#loadMoreBtn').remove();
					}, 1200);
					return;
				}
				var data = [];
				list.forEach(function(e) {
					var tmpGalleryImage = $('#tmpGalleryImage').html();
					var template = Handlebars.compile(tmpGalleryImage+"");
					var post = {};
					image = e;
					image['postUrl'] = '/home/post/'+e.post_id;
					tmpGalleryImage = template(image);
					data.push(tmpGalleryImage);
					//$('#more-posts').append(tmpGalleryImage);
				});
				$('#gallery-container').append(data);
				$('.penci-lazy').Lazy({
					effect: 'fadeIn',
					effectTime: 300,
					scrollDirection: 'both'
				});
				$( ".container" ).fitVids();
				$('#gallery-container').addClass('loaded');
				$('#loadMoreBtn').attr('page',result.page);
			}
		},
		error : function(xhr) {
			if(xhr.responseJSON.message && xhr.responseJSON.message!='') {
	        	alertWarning(xhr.responseJSON.message);
	        }
		}
	});
}
</script>